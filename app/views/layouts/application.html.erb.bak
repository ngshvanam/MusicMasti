<!DOCTYPE html>
<html  lang="en"  xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#">
<head>
  <title>Musicmasti</title>

   <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

  <%= stylesheet_link_tag    "application","bootstrap","bootstrap-responsive", :media => "all" %>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
  <%= javascript_include_tag "bootstrap-transition","bootstrap-aler","bootstrap-modal","bootstrap-dropdown","bootstrap-scrollspy","bootstrap-tab","bootstrap-tooltip","bootstrap-button","bootstrap-collapse","bootstrap-carousel","bootstrap-typeahead","jquery.nicescroll.min" %>

    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->


    <style type="text/css">

      /* Sticky footer styles
      -------------------------------------------------- */

      html,
      body {
        /*height: 100%;*/
		padding-top: 60px;
        /* The html and body elements cannot have any padding or margin. */
      }

      /* Wrapper for page content to push down footer */
      #wrap {
        min-height: 100%;
        height: auto !important;
        height: 100%;
        /* Negative indent footer by it's height */
        margin: 0 auto -60px;
      }

      /* Set the fixed height of the footer here */
      #push,
      #footer {
        height: 60px;
      }
      #footer {
        background-color: #f5f5f5;
      }

      /* Lastly, apply responsive CSS fixes as necessary */
      @media (max-width: 707px) {
        #footer {
          margin-left: -20px;
          margin-right: -20px;
          padding-left: 20px;
          padding-right: 20px;
        }
      }



      /* Custom page CSS
      -------------------------------------------------- */
      /* Not required for template or sticky footer method. */

      .container {
        width: auto;
       /* max-width: 680px;*/
      }
      .container .credit {
        margin: 20px 0;
      }

	  .container-body
	  {
		height:100%;
		width:1100px;
	  }
	.addthis_default_style
	{
		margin-left:90px;
		padding:5px;
	}
	
    </style>


    <style>

	.col {
text-align: left;
}
body, td {
font-family: 'Lucida Grande', Tahoma, sans-serif;
}

h2 {
font-size: 160%;
margin: 13px 0;
border-bottom: 2px solid #DDD;
text-shadow: 0 1px 0 white, 0 0px 9px #DDD;
color: #444;
line-height: 50px;
}
h1, h2, h3, h4, h5, h6 {
font-weight: normal;
}

h2 {
display: block;
font-size: 1.5em;
-webkit-margin-before: 0.83em;
-webkit-margin-after: 0.83em;
-webkit-margin-start: 0px;
-webkit-margin-end: 0px;
font-weight: bold;
}

.loading {
display: none;
text-align: center;
margin: 1em;
width: 100%;
}

.result-list {
margin: 0;
padding: 0;
}

ul, menu, dir {
display: block;
list-style-type: disc;
-webkit-margin-before: 1em;
-webkit-margin-after: 1em;
-webkit-margin-start: 0px;
-webkit-margin-end: 0px;
-webkit-padding-start: 40px;
}

.result-list li:first-child {
border-top: none;
}

.result-list li {
list-style: none;
margin: 0;
padding: 0;
border-top: 1px solid rgba(255, 255, 255, 0.75);
border-bottom: 1px solid rgba(0, 0, 0, 0.05);
font-size: 12px;
position: relative;
clear: both;
line-height: 20px;
white-space: nowrap;
}

.result-list li a {
width: 49%;
display: inline-block;
vertical-align: middle;
margin-right: 1%;
overflow: hidden;
text-overflow: ellipsis;
}

a, a:visited, a:link {
color: #AAA;
text-decoration: none;
}

.result-list li {
list-style: none;
font-size: 12px;
line-height: 20px;
white-space: nowrap;
}

.album {
font-size: 90%;
color: gray;
display: inline-block;
width: 50%;
overflow: hidden;
text-overflow: ellipsis;
vertical-align: middle;
}

.num-results {
color: #BBB;
font-size: 66%;
}
    </style>

	<script>
	$(document).ready(function(){
		//$("html").niceScroll(); 
		//alert($(window).height());
		//$("#footer").css("margin-top","500px");

		<%if session[:keyword]%>
		       
		        $(".search-query").val("<%=session[:keyword]%>");

 		        $("#grooveshark_loading").css("display","block");
			$("#spotify_loading").css("display","block");
			$("#soundcloud_loading").css("display","block");
			$("#rdio_loading").css("display","block");
			$("#youtube_loading").css("display","block");
			
			$.ajax({url:"/search?keyword="+$(".search-query").val(),type:"POST"});
			$.ajax({url:"/search_spotify?keyword="+$(".search-query").val(),type:"POST"});
			$.ajax({url:"/search_soundcloud?keyword="+$(".search-query").val(),type:"POST"});
			$.ajax({url:"/search_rdio?keyword="+$(".search-query").val(),type:"POST"});
			$.ajax({url:"/search_youtube?keyword="+$(".search-query").val(),type:"POST"});
		<%end%>

		$(".navbar-form").submit(function(e){
			$("#grooveshark_loading").css("display","block");
			$("#spotify_loading").css("display","block");
			$("#soundcloud_loading").css("display","block");
			$("#rdio_loading").css("display","block");
			$("#youtube_loading").css("display","block");
			
			$.ajax({url:"/search?keyword="+$(".search-query").val(),type:"POST"});
			$.ajax({url:"/search_spotify?keyword="+$(".search-query").val(),type:"POST"});
			$.ajax({url:"/search_soundcloud?keyword="+$(".search-query").val(),type:"POST"});
			$.ajax({url:"/search_rdio?keyword="+$(".search-query").val(),type:"POST"});
			$.ajax({url:"/search_youtube?keyword="+$(".search-query").val(),type:"POST"});
			e.preventDefault();
		});
	});
	</script>


  <%= csrf_meta_tags %>
</head>
<body style="overflow-x:hidden;background:none;">

<%= yield %>

</body>
</html>
